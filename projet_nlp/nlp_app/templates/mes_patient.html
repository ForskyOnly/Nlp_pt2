{% extends 'base.html' %}

{% block mes_patient %}
{% for patient in patients %}
    <h2>{{ patient.first_name }} {{ patient.last_name }}</h2>
{% endfor %}

<form method="GET" action="{% url 'mes_patient' %}">
        <input type="text" name="q" placeholder="Rechercher un patient...">
        <button type="submit">Rechercher</button>
    </form>
    {% if patients and query %}
        <h2>Résultats de la recherche pour "{{ query }}" :</h2>
        <ul>
            {% for patient in patients %}
                <li>{{ patient.first_name }} {{ patient.last_name }}</li>
            {% empty %}
                <li>Aucun résultat trouvé.</li>
            {% endfor %}
        </ul>
    {% elif patients %}
        <h2>Tous les patients :</h2>
        <ul>
            {% for patient in patients %}
                <li>{{ patient.first_name }} {{ patient.last_name }}</li>
            {% empty %}
                <li>Aucun patient trouvé.</li>
            {% endfor %}
        </ul>
    {% endif %}
{% endblock %}
